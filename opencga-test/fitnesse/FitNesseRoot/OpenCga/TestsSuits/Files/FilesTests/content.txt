!define TEST_SYSTEM {slim}
!define baseURL {http://bioinfoint.hpc.cam.ac.uk/opencga-1.0.0-rc3/webservices/rest/}
!define user {test}
!define path {path}

!3 Login User 
!|Table: Rest Fixture | ${baseURL} |
| setBody | {"password" : "user_P@ssword"}|
| setHeader|Content-Type:application/json|
| POST | /v1/users/test/login |  |  Content-Type: application/json ||
|let|sessionId|js|response.jsonbody.response[0].result[0].sessionId||

!3 Create Folder
!|Table: Rest Fixture | ${baseURL} |
| GET | /v1/files/create-folder?sid=$sessionId&folders=folder&path=${path}&parents=false |  |  Content-Type: application/json | jsonbody.error === '' && jsonbody.response[0].result[0].path =='path/' |


!3 Get File(Directory) Info
!|Table: Rest Fixture | ${baseURL} |
| GET | /v1/files/9/info?sid=$sessionId |  |  Content-Type: application/json | jsonbody.error === ''  && jsonbody.response[0].result[0].id == '9'|


!3 Get ACL For File
!|Table: Rest Fixture | ${baseURL} |
| GET | /v1/files/9/acl?sid=$sessionId |  |  Content-Type: application/json | jsonbody.error === ''  && jsonbody.response[0].id == '9'|

!3 Get File Tree
!|Table: Rest Fixture | ${baseURL} |
| GET | /v1/files/:/tree?sid=$sessionId&maxDepth=5 |  |  Content-Type: application/json | jsonbody.error === '' && jsonbody.response[0].numResults > '1' |

